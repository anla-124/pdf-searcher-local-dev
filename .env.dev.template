# =============================================================================
# PDF SEARCHER - LOCAL DEVELOPMENT TEMPLATE
# =============================================================================
# This template uses LOCAL Supabase and Qdrant to avoid VPN authentication issues.
# All other services (Google Cloud, Draftable) use managed instances.
#
# To use this configuration:
# 1. Copy this file to .env.local
# 2. Start local Supabase: npx supabase start
# 3. Start local Qdrant: docker run -p 6333:6333 -v $(pwd)/qdrant_storage:/qdrant/storage qdrant/qdrant
# 4. Initialize Qdrant collection: npx tsx init-qdrant-collection.ts
# 5. Copy credentials from supabase start output to fill in the placeholders
# 6. Fill in your managed service credentials (Google Cloud, Draftable)
# 7. Start your Next.js app: npm run dev
# =============================================================================

# =============================================================================
# SUPABASE CONFIGURATION (Local Docker Instance)
# =============================================================================
# After running "npx supabase start", copy these values from the output:
NEXT_PUBLIC_SUPABASE_URL=local_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_local_supabase_anon_key_from_npx_supabase_start
SUPABASE_SERVICE_ROLE_KEY=your_local_supabase_service_role_key_from_npx_supabase_start

# =============================================================================
# GOOGLE CLOUD DOCUMENT AI CONFIGURATION
# =============================================================================
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GOOGLE_CLOUD_LOCATION=us
GOOGLE_CLOUD_PROCESSOR_ID=your_primary_processor_id
GOOGLE_CLOUD_OCR_PROCESSOR_ID=your_ocr_processor_id
GOOGLE_APPLICATION_CREDENTIALS=./credentials/google-service-account.json

# =============================================================================
# QDRANT VECTOR DATABASE CONFIGURATION
# =============================================================================
# For local development, use local Qdrant Docker instance
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=documents

# =============================================================================
# DRAFTABLE COMPARISON API CONFIGURATION
# =============================================================================
NEXT_PUBLIC_DRAFTABLE_ACCOUNT_ID=your_draftable_account_id
DRAFTABLE_AUTH_TOKEN=your_draftable_auth_token
NEXT_PUBLIC_DRAFTABLE_API_URL=https://api.draftable.com/v1

# =============================================================================
# CRON & BACKGROUND JOBS
# =============================================================================
CRON_SECRET=generate_a_secure_random_string_here

# =============================================================================
# DATABASE CONNECTION POOL
# =============================================================================
DB_POOL_MIN_CONNECTIONS=2
DB_POOL_MAX_CONNECTIONS=40
DB_POOL_IDLE_TIMEOUT=120000
DB_POOL_CONNECTION_TIMEOUT=120000

# =============================================================================
# RATE LIMITING & PROCESSING
# =============================================================================
UNLIMITED_PROCESSING=false
UPLOAD_GLOBAL_LIMIT=2
UPLOAD_PER_USER_LIMIT=2
DELETE_GLOBAL_LIMIT=2
DELETE_PER_USER_LIMIT=2
QDRANT_DELETE_MAX_RETRIES=3
QDRANT_DELETE_BACKOFF_MS=2000
MAX_CONCURRENT_DOCUMENTS=1
MAX_CONCURRENT_CHUNKS_PER_DOC=25
LARGE_DOCUMENT_THRESHOLD_MB=5

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================
MAX_CHUNK_CHARACTERS=1000
SIMILARITY_STAGE2_WORKERS=1
DUMP_DOCUMENT_AI=0

# =============================================================================
# LOGGING
# =============================================================================
VERBOSE_LOGS=true

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# Disable SSL certificate validation for corporate VPN/proxy environments
# WARNING: Only use in development! Do not use in production!
NODE_TLS_REJECT_UNAUTHORIZED=0
